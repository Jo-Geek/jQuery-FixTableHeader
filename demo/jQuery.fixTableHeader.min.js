!function(t){function i(){var i=t("<div>").css({visibility:"hidden",width:100,overflow:"scroll"}).appendTo("body"),h=t("<div>").css({width:"100%"}).appendTo(i).outerWidth();return i.remove(),100-h}t.fn.fixTableHeader=function(h){var e,s,d=t.extend({fixHeader:!0,fixFooter:!1},h),n=this,a=this.find("table");e=this.find("table").has("thead").length?this.find("table thead").has("th").length?this.find("table thead th"):this.find("table thead td"):this.find("table").has("tbody").length?this.find("table tbody").has("th").length?this.find("table tbody th"):this.find("table tbody > tr:first-child td"):this.find("table").has("th").length?this.find("table th"):this.find("table > tr:first-child td"),s=this.find("table").has("tfoot").length?this.find("table tfoot td"):this.find("table").has("tbody").length?this.find("table tbody > tr:last-child td"):this.find("table > tr:last-child td");var l=(n.innerHeight()-t(n).height(),0);l=n.innerWidth()<a.width()?n.height()-i():n.height(),e.each(function(){t(this).addClass(" fth-header")}),s.each(function(){t(this).addClass(" fth-footer")}),this.scroll(function(){d.fixHeader&&e.each(function(){t(this).css("position","relative"),t(this).css("top",n.scrollTop()+"px")}),d.fixFooter&&s.each(function(){t(this).css("position","relative"),t(this).css("top",l-a.height()+n.scrollTop()+"px")})})}}(jQuery);
